
    -----------------------------------------------------------------------
          Psi4: An Open-Source Ab Initio Electronic Structure Package
                               Psi4 1.2a1.dev547 

                         Git: Rev {master} f5560a0 


    R. M. Parrish, L. A. Burns, D. G. A. Smith, A. C. Simmonett,
    A. E. DePrince III, E. G. Hohenstein, U. Bozkaya, A. Yu. Sokolov,
    R. Di Remigio, R. M. Richard, J. F. Gonthier, A. M. James,
    H. R. McAlexander, A. Kumar, M. Saitow, X. Wang, B. P. Pritchard,
    P. Verma, H. F. Schaefer III, K. Patkowski, R. A. King, E. F. Valeev,
    F. A. Evangelista, J. M. Turney, T. D. Crawford, and C. D. Sherrill,
    J. Chem. Theory Comput. 13(7) pp 3185--3197 (2017).
    (doi: 10.1021/acs.jctc.7b00174)

    -----------------------------------------------------------------------


    Psi4 started on: Friday, 24 November 2017 12:47PM

    Process ID:  24382
    PSIDATADIR: /home/luke/Projects/psi4_build/psi_6/share/psi4
    Memory:     500.0 MiB
    Threads:    1
    
  ==> Input File <==

--------------------------------------------------------------------------

# PYTHONPATH must include directory above plugin directory.
#     Define either externally or here, then import plugin.
sys.path.insert(0, './..')
import syshfwplug
import psi4


plugin_load("./syshfwplug.so")


molecule mymol {
O  0.0 0.0 0.0
H  1.0 1.0 0.0
H -1.0 1.0 0.0
symmetry c1
noreorient 
nocom
}

set {
  basis def2-qzvpp
}

set syshfwplug {
  pref mytest
  dryrun false
  do_tei 1
  print 1
}

set scf reference rhf
set scf_type pk
set scf PRINT_MOS  true

#e_scf,ref_wfn = energy('mp2',return_wfn=True)
ref_wfn = psi4.core.Wavefunction.build(mymol , psi4.core.get_global_option('BASIS'))
aux     = psi4.core.BasisSet.build(mymol, "DF_BASIS_SCF", "", "RIFIT", psi4.core.get_global_option('BASIS'))
aux2    = psi4.core.BasisSet.build(mymol, "DF_BASIS_MP2", "", "JKFIT", psi4.core.get_global_option('BASIS'))

ref_wfn.set_basisset("JKFIT",aux)
ref_wfn.set_basisset("RIFIT",aux2)

plugin("syshfwplug.so", ref_wfn)

#C = psi4.core.Matrix(ref_wfn.basisset().nbf(),ref_wfn.basisset().nbf())
#df = psi4.core.DFTensor(ref_wfn.basisset(), aux, C, 5 , ref_wfn.basisset().nbf()-5 )

#BQ2 = np.asarray(df.Qso())


#mints = MintsHelper(ref_wfn.basisset())
#I = np.asarray(mints.ao_eri())

#print "Check some ints:"
#for i in range(ref_wfn.basisset().nbf()):
#	print "{:16.8f} {:16.8f} {:16.8f} ".format(I[i,0,0,0] , np.sum([BQ2[Q][i,0]*BQ2[Q][0][0] for Q in range(aux.nbf())]), np.sum([BQ[Q][i,0]*BQ[Q][0][0] for Q in range(aux.nbf())]))

#syshfwplug.exampleFN(Qmn)
--------------------------------------------------------------------------
/home/luke/Projects/MP2-Project/src/syshfwplug/syshfwplug.so loaded.
   => Loading Basis Set <=

    Name: DEF2-QZVPP
    Role: ORBITAL
    Keyword: BASIS
    atoms 1   entry O          line   290 file /home/luke/Projects/psi4_build/psi_6/share/psi4/basis/def2-qzvpp.gbs 
    atoms 2-3 entry H          line    15 file /home/luke/Projects/psi4_build/psi_6/share/psi4/basis/def2-qzvpp.gbs 

    There are an even number of electrons - assuming singlet.
    Specify the multiplicity in the molecule input block.

   => Loading Basis Set <=

    Name: (DEF2-QZVPP AUX)
    Role: RIFIT
    Keyword: DF_BASIS_SCF
    atoms 1   entry O          line   406 file /home/luke/Projects/psi4_build/psi_6/share/psi4/basis/def2-qzvpp-ri.gbs 
    atoms 2-3 entry H          line    24 file /home/luke/Projects/psi4_build/psi_6/share/psi4/basis/def2-qzvpp-ri.gbs 

   => Loading Basis Set <=

    Name: (DEF2-QZVPP AUX)
    Role: JKFIT
    Keyword: DF_BASIS_MP2
    atoms 1   entry O          line   323 file /home/luke/Projects/psi4_build/psi_6/share/psi4/basis/def2-qzvpp-jkfit.gbs 
    atoms 2-3 entry H          line    23 file /home/luke/Projects/psi4_build/psi_6/share/psi4/basis/def2-qzvpp-jkfit.gbs 


Reading options from the SYSHFWPLUG block
Calling plugin syshfwplug.so.


    Molecular point group: c1
    Full point group: D1h

    Geometry (in Angstrom), charge = 0, multiplicity = 1:

       Center              X                  Y                   Z               Mass       
    ------------   -----------------  -----------------  -----------------  -----------------
           O          0.000000000000     0.000000000000     0.000000000000    15.994914619560
           H          1.000000000000     1.000000000000     0.000000000000     1.007825032070
           H         -1.000000000000     1.000000000000     0.000000000000     1.007825032070


    Nuclear repulsion energy:       6.25154529


*** Psi4 exiting successfully. Buy a developer a beer!
